# 项目功能更新记录

## 2026-02-28

### 界面与配置优化

1.  **菜单与路由重构**
    - 引入二级菜单结构：**智能工坊**（功能）和**配置中心**（配置）。
    - 采用更具科技感的菜单命名：
        - 需求智能解析（原智能需求分析）
        - 需求解构中心（原需求拆解结果）
        - 功能模块管理（原功能点管理）
        - 用例矩阵（原测试用例管理）
        - 执行引擎（原用例执行）
        - 提示词实验室（原提示词管理）
        - 功能控制面板（原功能开关配置）
    - 修复路由路径重复问题，优化前端路由配置。

2.  **功能开关配置**
    - 新增**功能控制面板**页面，支持可视化管理系统功能开关。
    - 支持动态配置：Dify知识库、LLM模型、测试维度分析、上下文管理器等功能的开启/关闭。
    - 后端新增配置管理API，支持配置的持久化存储。

### 功能优化

1. **日志系统增强**
   - 知识库调用日志：详细记录知识库查询内容、API调用参数、响应结果和提取的知识内容
   - 提示词选择日志：记录提示词的选择过程、内容和处理情况
   - 用例生成流程日志：增强生成过程中的日志记录，便于问题排查

2. **Dify知识库集成**
   - 实现与Dify知识库的集成，支持知识检索和上下文融入
   - 配置化管理Dify API参数，便于环境切换
   - 在测试用例生成过程中自动检索相关知识，提高生成质量

3. **前端交互优化**
   - 实现生成用例配置弹窗，提供更灵活的参数设置
   - 优化提示词管理页面的下拉选项宽度，确保内容完整显示
   - 改进生成用例的状态反馈，提供更清晰的操作指引

4. **项目结构整理**
   - 创建 `tests` 目录，将测试脚本集中管理
   - 清理旧的冗余文件和目录，优化项目结构
   - 整理配置文件，提高代码可维护性

5. **配置管理优化**
   - 将配置从 `config.py` 迁移到 `.env` 文件
   - 支持环境变量配置，便于不同环境的部署
   - 提供默认配置值，确保系统在缺少配置时仍能正常运行

## 2026-02-27

### 功能优化

1. **提示词管理功能优化**
   - 确保生成器提示词包含目标数量信息，避免用户编辑提示词时遗漏
   - 实现提示词的增删改查功能，支持按领域和类型分类管理

2. **各业务域提示词全面更新**
   - 基础测试（base）：新增测试策略、用例设计要求、扩展用例类型
   - Web应用测试（web）：详细覆盖浏览器兼容性、响应式设计、前端性能、用户体验、安全测试等
   - API测试（api）：全面覆盖HTTP方法、请求参数、响应测试、认证授权、安全测试、性能测试等

3. **项目文档更新**
   - 更新 README.md 文件，详细描述项目结构、功能特点、快速开始指南
   - 提供故障排除和扩展建议

4. **依赖管理优化**
   - 更新 requirements.txt 文件，与当前环境版本保持一致
   - 为每个包添加详细的用途说明

5. **重复用例防止功能**
   - 在存储层面实现重复用例检查，避免相同标题的用例入库
   - 使用标准化比较方式（去除空格，转为小写）提高检测准确性
   - 在生成层面通过传递已存在用例列表，避免Agent生成重复用例

## 2025-12-22

### 初始版本

- 实现基于 FastAPI、Vue 3 和 AutoGen 的 AI 测试用例生成平台
- 支持需求分析、测试用例生成、测试用例管理等核心功能
- 集成 Google Gemini 作为 LLM 服务
